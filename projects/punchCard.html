---
title: Punch Clock
permalink: /punchclock
---
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punch Clock</title>
    <meta name="description" content="Punch Clock is a simple time tracker.">
    <meta property="og:description" content="Punch Clock is a simple time tracker.">
    <meta property='og:image' content="{{base.url}}/assets/images/og-punchclock.jpg"/>
    <meta property="og:site_name" content="Punch Clock">
    <meta property="og:title" content="Punch Clock">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Punch Card">
    <meta name="twitter:description" content="Punch Clock is a simple time tracker.">
    <style>
        :root{--accent-light:#63e6b5;--accent:#12b886;--accent-dark:#087f5b;--delete:#ff6b6b;--delete-dark:f03e3e;--ink-0:#000;--ink-1:#0E141B;--ink-2:#1F2D3D;--ink-3:#273444;--ink-4:#3C4858;--ink-5:#8492A6;--ink-6:#C0CCDA;--ink-7:#D3DCE6;--ink-8:#E5E9F1;--ink-9:#EFF2F7;--ink-10:#FFF}html{font-family:system-ui,sans-serif;font-size:12px;line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:300;background:var(--ink-10)}body{padding:0;margin:0;height:100vh;display:flex;flex-direction:column}@media (prefers-color-scheme:dark){#inputSection{background:#040a11;}:root{--ink-10:#0E141B;--ink-9:#0E141B;--ink-8:#1F2D3D;--ink-7:#273444;--ink-6:#3C4858;--ink-5:#8492A6;--ink-4:#C0CCDA;--ink-3:#D3DCE6;--ink-2:#E5E9F1;--ink-1:#EFF2F7;--ink-0:#FFF}}.appGrid{display:grid;grid-template-columns:24px 1fr 24px;position:relative}.appGrid *{grid-column:2/3}.appRows{grid-template-rows:.3fr 2fr}@media only screen and (min-width:600px){.appGrid{grid-template-columns:minmax(24px,.25fr) 1fr minmax(24px,.25fr)}}@media only screen and (min-width:800px){.appGrid{grid-template-columns:minmax(24px,.5fr) 1fr minmax(24px,.5fr)}}#inputSection{transition:min-height cubic-bezier(.165,.84,.44,1) 1000ms;flex:.5;min-height:376px}.sectionWrapper{max-height:300px;align-self:start}.green .sectionWrapper{align-self:center;}.gone{display:none}.userInput{background:var(--ink-9);padding-bottom:24px;border-bottom:1px solid var(--ink-7);margin-bottom:8px;color:var(--ink-0);min-height:200px}::placeholder{color:var(--ink-2)}.userInput--container{margin-bottom:32px}.userInput--timer{display:flex;justify-content:space-between;align-items:center;align-self:flex-end;transform:translateY(-88px)}#timeList{display:flex;flex-direction:column-reverse;justify-content:flex-end}#timeList div{display:flex;justify-content:space-between;align-items:center}#timeList div p:first-child{font-size:19px;color:var(--ink-2)}.itemTime,.itemRate{font-size:15px;font-weight:600;color:var(--ink-4);background:var(--ink-9);padding:8px 16px;border-radius:50px}.tasks{grid-template-rows:.3fr 2fr;height:calc(100% + 60px)}footer{height:24px;justify-self:center;flex:.15}.subheader{font-size:24px;font-weight:400;color:var(--ink-2)}.credits{color:var(--ink-4);font-size:14px}.credits a{color:var(--accent);text-decoration:none;font-weight:600}.caption{font-weight:600;color:var(--ink-4);margin:0;margin-top:8px}input#task,#rate{text-align:start;-webkit-appearance:textfield;-webkit-rtl-ordering:logical;text-indent:0;border:0;background:transparent;font-size:40px;font-weight:300;color:var(--ink-1);width:100%;border-bottom:1px solid transparent}#timeList div .itemRate{display:none}#timeList.viewRates div .itemRate{display:block}#timeList.viewRates div .itemTime{display:none}#task:hover,#task:focus,#task:active,#rate:hover,#rate:focus,#rate:active{border-bottom:1px solid var(--ink-6);outline:none}.displayText{font-size:40px;font-weight:300;color:var(--ink-1);margin:0}button{z-index:2;height:56px;width:56px;border-radius:50%;border:0;background:var(--ink-10);border:1px solid var(--ink-7);color:var(--ink-4);display:flex;align-items:center;justify-content:center;transition-timing-function:cubic-bezier(.68,-.55,.265,1.55);transition-duration:.2s;margin-left:auto;justify-self:flex-end}.button--sticky{position:sticky;right:24px;bottom:24px;display:flex;margin-left:auto;align-items:center;}button:hover,button:focus,button:active{transform:scale(1.1);outline:none}button svg{height:20px;width:20px}.button--delete:hover{background:var(--delete);border-color:var(--delete-dark);color:var(--ink-10)}#viewToggle{height:51px;width:initial;border-radius:200px;padding:0 26px;font-size:14px;margin:0;margin-right:16px}.green{background:var(--accent-light);border-color:var(--accent)}.green .playIcon{display:none}.stopIcon{display:none}.green .stopIcon{display:block}.green button{border-color:var(--accent)}.green .caption{color:var(--accent-dark)}.green #task:hover,#task:focus,#task:active,.green #rate:hover,#rate:focus,#rate:active{border-color:var(--accent-dark)}#inputSection.green{min-height:100%}#inputSection.green~.tasks{height:0;opacity:0;display:none;flex:0}
        .link {
            color: var(--ink-2);
            font-size: 16px;
            text-decoration: none;
            text-align: right;
            float:right;
        }
        .link:hover {
            text-decoration: underline;
        }
        nav {
            margin: 16px 0 100px;
        }
        .green .userInput--timer { transform: translateY(0);}
        input {
            margin: 0;
            padding: 1px 0;
        }
        .userInput--container.grid {
            display: grid;
            grid-template-columns: 1fr 56px;
            grid-column-gap: 12px;
        }
        #rate, .caption {
            grid-column: 1/2;
        }
        .userInput--timer {
            grid-column: 2/3;
        }
    </style>
</head>
<body class="">
    <section id="inputSection" class="userInput appGrid ">
        <nav>
            <a class="link" href="{{base.url}}/works/punchclock.html">about</a>
        </nav>
        <div class="sectionWrapper">
        <div class="userInput--container">
            <input type="text" placeholder="New Task" id="task">
            <p class="caption">What are you working on</p>
        </div>
        <div class="userInput--container grid">
            <input type="text" placeholder="34hr" id="rate">
            <p class="caption">Rate</p>
        </div>
        <div class="userInput--timer">
            <div id="timeSection" class="gone">
                <p id="startTime" class="displayText">00:00</p>
                <p class="caption">Start Time</p>
            </div>
            <button id="playButton" class="button" onclick="punch()">
                <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="playIcon"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="stopIcon"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>
            </button>
        </div>
    </div>
    </section>
    <section class="tasks appGrid">
        <p class="subheader">Previous Task</p>
        <section id="timeList" class=""></section>
        <div class="button--sticky">
            <button id="viewToggle" onclick="toggleView()">Toggle View</button>
            <button id="deleteTask" class="button--delete" onclick="removeItem()">
                <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
            </button>
    </div>
    </section>
        <script>
var clockIn,
    clockOut,
    clockRunning,
    time,
    rate,
    task,
    taskInput = document.getElementById("task"),
    rateInput = document.getElementById("rate"),
    state = 0,
    localData = [];
function timeSheetItem(t, e, a) {
    (this.item = t), (this.time = e), (this.rate = a);
}
function addListItems(t, e, a, bool) {
    var n = document.getElementById("timeList"),
        l = document.createElement("div"),
        o = document.createElement("p"),
        i = document.createElement("p"),
        c = document.createElement("p"),
        m = document.createTextNode(t);
        if(bool == true) {
            l.classList.add("newItem");
        }
        o.appendChild(m),
        (m = document.createTextNode(e)),
        i.classList.add("itemTime"),
        i.appendChild(m),
        (m = document.createTextNode("$" + a)),
        c.classList.add("itemRate"),
        c.appendChild(m),
        l.appendChild(o),
        l.appendChild(i),
        l.appendChild(c),
        n.appendChild(l);

        //wait to trigger animation
        setTimeout(function() {
            console.log("pop")
        }, 10);
}

function getRate() {
    0 == rateInput.value.length ? ((rate = 20), (rateInput.value = "20hr")) : (rate = rateInput.value), localStorage.setItem("rate", rate);
}
function getTask() {
    0 == taskInput.value.length ? (console.log("no value found"), (task = new Date().toLocaleDateString()), (taskInput.value = task)) : (task = taskInput.value), localStorage.setItem("task", task);
}
function setBill() {
    let t = rate / 60 / 60;
    var e = new Date(clockOut - clockIn).getTime() / 1000,
        a = parseFloat(t * e).toFixed(2);
    return 1 == isNaN(a) ? "$0.00" : a;
}
function setHumanTime(t) {
    return new Date(parseInt(t)).toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
}
function setTime() {
    var t = new Date(clockOut - clockIn),
        e = t.getUTCHours(),
        a = t.getUTCMinutes();
    return e.toString().padStart(2, "0") + ":" + a.toString().padStart(2, "0");
}
function getSeconds() {
    return new Date().getTime();
}
function getDifference(t, e) {
    return new Date(e - t);
}
function punch() {
    1 == state ? (punchOut(), (state = 0)) : (punchIn(), (state = 1));
}
function punchIn() {
    (clockIn = getSeconds()),
        localStorage.setItem("startTime", clockIn),
        getTask(),
        getRate(),
        document.getElementById("inputSection").classList.toggle("green"),
        document.getElementById("timeSection").classList.toggle("gone"),
        (document.getElementById("startTime").innerText = setHumanTime(clockIn));
}
function punchOut() {
    (clockOut = getSeconds()),
        (time = setTime()),
        setBill(),
        addListItems(task, setTime(), setBill(), true),
        (obj = new timeSheetItem(task, setTime(), setBill())),
        localData.push(obj),
        localStorage.setItem("timeSheet", JSON.stringify(localData)),
        document.getElementById("inputSection").classList.toggle("green"),
        document.getElementById("timeSection").classList.toggle("gone"),
        localStorage.removeItem("task"),
        localStorage.removeItem("rate"),
        localStorage.removeItem("startTime");
}
function toggleView() {
    document.getElementById("timeList").classList.toggle("viewRates");
    totalRates();
    totalHours();
}
function removeItem() {
    if (confirm("Permanently delete all previous tasks.")) {
        localStorage.removeItem("timeSheet");
        for (var t = document.getElementById("timeList"); t.firstChild; ) t.removeChild(t.firstChild);
    } else {
        //nothing
    }
    
}
if (
    (null != localStorage.getItem("startTime") &&
        ((state = 1),
        (clockIn = localStorage.getItem("startTime")),
        (startTime.innerHTML = setHumanTime(clockIn)),
        inputSection.classList.add("green"),
        document.getElementById("timeSection").classList.toggle("gone"),
        (document.getElementById("startTime").innerText = setHumanTime(clockIn))),
    null != localStorage.getItem("task") && ((taskInput.value = localStorage.getItem("task")), (task = localStorage.getItem("task"))),
    null != localStorage.getItem("rate") && ((rateInput.value = localStorage.getItem("rate")), (rate = localStorage.getItem("rate"))),
    null != localStorage.getItem("timeSheet"))
)
    for (localData = JSON.parse(localStorage.getItem("timeSheet")), i = 0; i < localData.length; i++) addListItems(localData[i].item, localData[i].time, localData[i].rate, false);
        
        // return total dollars
        function totalRates() {
            let localData = JSON.parse(localStorage.getItem('timeSheet'))
            let sum = 0;
            for (let index = 0; index < localData.length; index++) {
                sum = sum + parseFloat(localData[index].rate)
            }
            console.log("Total Rate " + sum)
        }
        // return total hours
        function totalHours() {
            let localData = JSON.parse(localStorage.getItem('timeSheet'))
            let hours = 0;
            let minutes = 0;
            let sum;
            for (let index = 0; index < localData.length; index++) {
                minutes = minutes + parseInt(localData[index].time.substring(3,5));
                // console.log(minutes)
                hours = hours + parseInt(localData[index].time.substring(0,2));
                // console.log(hours)
            }
            minutes = minutes / 60
            hours = hours + parseInt((minutes / 60));
            console.log(minutes)
            sum = hours + ":" + minutes
            console.log("Total Time " + sum)
        }
        
        </script>
</body>
</html>